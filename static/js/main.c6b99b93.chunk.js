(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(2),r=n.n(a),s=n(32),i=n.n(s),o=n(15),u=n(12),j=n(27),l=(n(50),n(51),j.a.initializeApp({apiKey:"AIzaSyDR8tvZ_nXU_Yvf3m9fDSstpav1n0HCJGc",authDomain:"expense-tracker-91c95.firebaseapp.com",projectId:"expense-tracker-91c95",storageBucket:"expense-tracker-91c95.appspot.com",messagingSenderId:"982156523497",appId:"1:982156523497:web:1f3a7dca886f9d5a4b3d78"}),"transactions"),d="categories",b=j.a.firestore(),p=n(22),O=n(4);var x=function(e){var t=e.values,n=e.changeHandler,r=e.categories,s=Object(a.useRef)(),i=function(){var e=s.current;e.classList.contains("toRight")?(e.classList.remove("toRight"),e.classList.add("toLeft")):(e.classList.remove("toLeft"),e.classList.add("toRight"))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"radios",children:[Object(c.jsx)("div",{className:"checked",ref:s}),Object(c.jsx)("label",{htmlFor:"typePlus",className:"labels",onClick:i,children:"+"}),Object(c.jsx)("input",{type:"radio",name:"type",id:"typePlus",className:"transactionType",value:"\uc218\uc785",onChange:n}),Object(c.jsx)("label",{htmlFor:"typeMinus",className:"labels",onClick:i,children:"-"}),Object(c.jsx)("input",{type:"radio",name:"type",id:"typeMinus",className:"transactionType",value:"\uc9c0\ucd9c",onChange:n})]}),Object(c.jsxs)("select",{name:"category",onChange:n,children:[Object(c.jsx)("option",{children:"\uce74\ud14c\uace0\ub9ac\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}),r&&r.filter((function(e){return e.type===t.type})).map((function(e){return Object(c.jsx)("option",{value:e.category,children:e.category},e.id)}))]})]})},m=n(23),h=n(9),f=n.n(h),v=n(17);var y=function(e){var t=e.initialValues,n=e.onSubmit,c=e.validate,r=Object(a.useState)(t),s=Object(u.a)(r,2),i=s[0],j=s[1],p=Object(a.useState)(""),O=Object(u.a)(p,2),x=O[0],h=O[1],y=Object(a.useState)(!1),g=Object(u.a)(y,2),N=g[0],w=g[1],C=Object(a.useState)([]),S=Object(u.a)(C,2),k=S[0],T=S[1],E=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection(d).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));T(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===k.length&&E();var H=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection(l).doc("".concat(t.id)).set(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection(d).add(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){N&&n(i),w(!1)}),[N,i,n]),{values:i,errors:x,isSubmit:N,changeHandler:function(e){var t=e.target,n=t.name,c=t.value;j(Object(o.a)(Object(o.a)({},i),{},Object(m.a)({},n,c))),w(!1)},submitHandler:function(e){if(e.preventDefault(),w(!0),h(c(i)),i.formType===l){var n={type:i.type,date:i.date,id:Date.now(),text:i.text,amount:+i.amount,category:i.category};H(n)}else if(i.formType===d){console.log(i);var a={type:i.type,category:i.category};F(a)}j(t)},categories:k,getCategories:E}};function g(e){e.type;var t=e.date,n=(e.text,e.amount),c={};return c.date=t?null:"\ub0a0\uc9dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",/^[0-9]/.test(n)?c.amount=null:c.amount="\uae08\uc561\uc5d0\ub294 \uc22b\uc790\ub9cc \uc785\ub825\ud574\uc8fc\uc138\uc694.",c}var N=function(){var e=y({initialValues:{formType:d,type:"\uc9c0\ucd9c",category:""},onSubmit:function(e){},validate:g}),t=e.values,n=(e.errors,e.isSubmit,e.changeHandler),a=e.submitHandler;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{children:"+"}),Object(c.jsxs)("form",{onSubmit:a,children:[Object(c.jsx)(x,{values:t,changeHandler:n}),Object(c.jsx)("label",{htmlFor:"category",children:"\uce74\ud14c\uace0\ub9ac \ub0b4\uc6a9"}),Object(c.jsx)("input",{type:"text",name:"category",required:!0,value:t.category,onChange:n,placeholder:"\uce74\ud14c\uace0\ub9ac \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."}),Object(c.jsx)("input",{type:"submit",name:"submit",value:"+"})]})]})};var w=function(e){var t=e.formType,n=e.itemId,a=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\ub0b4\uc5ed\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=10;break}if(t!==l){e.next=7;break}return e.next=5,b.doc("".concat(l,"/").concat(n)).delete();case 5:e.next=10;break;case 7:if(t!==d){e.next=10;break}return e.next=10,b.doc("".concat(d,"/").concat(n)).delete();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("button",{className:"deleteBtn",onClick:a,children:"X"})};var C=function(e){var t=e.category,n=Object(a.useState)(t.category),r=Object(u.a)(n,2),s=r[0],i=r[1],o=Object(a.useState)(!1),j=Object(u.a)(o,2),l=j[0],p=j[1],O=function(){var e=Object(v.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,b.doc("".concat(d,"/").concat(t.id)).update({category:s});case 3:p(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(w,{formType:d,itemId:t.id})}),Object(c.jsx)("td",{children:t.type}),Object(c.jsx)("td",{children:t.category}),Object(c.jsxs)("td",{children:[Object(c.jsx)("button",{onClick:function(){p((function(e){return!e}))},children:"Update"}),l&&Object(c.jsxs)("form",{onSubmit:O,children:[Object(c.jsx)("input",{type:"text",value:s,onChange:function(e){i(e.target.value)}}),Object(c.jsx)("input",{type:"submit"})]})]})]})};var S=function(e){var t=e.categories;return Object(c.jsxs)("div",{children:[Object(c.jsx)(N,{}),Object(c.jsx)("h3",{children:"\uce74\ud14c\uace0\ub9ac \uc124\uc815"}),Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"TYPE"}),Object(c.jsx)("th",{children:"CATEGORY"})]})}),Object(c.jsx)("tbody",{children:t&&t.map((function(e){return Object(c.jsx)(C,{category:e},e.id)}))})]})]})};var k=function(e){var t=e.categories;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("article",{children:Object(c.jsx)(S,{categories:t})})})};var T=function(){var e=y({initialValues:{formType:l,type:"\uc9c0\ucd9c",date:"",text:"",amount:0,category:""},onSubmit:function(e){},validate:g}),t=e.values,n=e.errors,a=e.isSubmit,r=e.changeHandler,s=e.submitHandler,i=e.categories;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{onSubmit:s,children:[Object(c.jsx)("h3",{children:"Add New Transaction"}),Object(c.jsx)("fieldset",{id:"type",children:Object(c.jsx)(x,{values:t,changeHandler:r,categories:i})}),Object(c.jsxs)("fieldset",{id:"info",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("label",{htmlFor:"date",children:"Date"}),n.date&&Object(c.jsx)("span",{children:n.date}),Object(c.jsx)("input",{type:"date",name:"date",value:t.date,onChange:r,required:!0})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("label",{htmlFor:"text",children:"Text"}),Object(c.jsx)("input",{type:"text",value:t.text,onChange:r,name:"text",id:"text",placeholder:"Enter text",required:!0})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("label",{htmlFor:"amount",children:"Amount"}),n.amount&&Object(c.jsx)("span",{children:n.amount}),Object(c.jsx)("input",{type:"number",id:"amount",name:"amount",value:t.amount,onChange:r,required:!0})]})]}),Object(c.jsx)("input",{type:"submit",value:"Add transaction",disabled:a})]})})};function E(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var H=function(e){var t=e.transactionObj,n=e.isNewDate,r=t.type,s=Object(a.useRef)(),i="";return"\uc218\uc785"===r?i="moneyPlus":"\uc9c0\ucd9c"===r&&(i="moneyMinus"),Object(c.jsxs)(c.Fragment,{children:[n?Object(c.jsx)("p",{className:"date",children:t.date}):"",Object(c.jsxs)("div",{className:"".concat(i," transactionContainer"),onClick:function(){s.current.classList.toggle("clickedBtnContainer")},children:[Object(c.jsxs)("div",{className:"buttonContainer",ref:s,children:[Object(c.jsx)(w,{formType:l,itemId:t.id}),Object(c.jsx)(w,{formType:l,itemId:t.id})]}),Object(c.jsxs)("div",{className:"textContainer",children:[Object(c.jsxs)("span",{className:"text",children:[t.text,Object(c.jsx)("span",{className:"category",children:t.category})]}),Object(c.jsxs)("span",{className:"amount",children:[E(t.amount),"\uc6d0"]})]})]})]})};var F=function(e){var t=e.transactions.concat();return t.sort((function(e,t){return e.date>t.date?-1:1})),Object(c.jsxs)("article",{className:"historyComponent",children:[Object(c.jsx)("h3",{children:"History"}),Object(c.jsx)("section",{id:"historyList",className:"list",children:t&&t.map((function(e,n){var a=!0;return 0===n?a=!0:n>0&&n<t.length-1&&(a=e.date!==t[n-1].date),Object(c.jsx)(H,{transactionObj:e,isNewDate:a},e.id)}))})]})};var I=function(e){var t=e.transactions.concat(),n=E(t.map((function(e){return"\uc218\uc785"===e.type?+e.amount:"\uc9c0\ucd9c"===e.type?-e.amount:void 0})).reduce((function(e,t){return e+t}),0)),a=E(t.filter((function(e){return"\uc218\uc785"===e.type})).map((function(e){return parseInt(e.amount)})).reduce((function(e,t){return e+t}),0)),r=E(t.filter((function(e){return"\uc9c0\ucd9c"===e.type})).map((function(e){return parseInt(e.amount)})).reduce((function(e,t){return e+t}),0));return Object(c.jsxs)("article",{className:"balanceComponent",children:[Object(c.jsxs)("section",{className:"balance",children:[Object(c.jsx)("p",{className:"name",children:"YOUR BALANCE"}),Object(c.jsxs)("p",{id:"money",children:[n,"\uc6d0"]})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("section",{className:"each income",children:[Object(c.jsx)("p",{className:"name",children:"INCOME"}),Object(c.jsxs)("p",{id:"moneyPlus",className:"money plus",children:["+",a,"\uc6d0"]})]}),Object(c.jsxs)("section",{className:"each expense",children:[Object(c.jsx)("p",{className:"name",children:"EXPENSE"}),Object(c.jsxs)("p",{id:"moneyMinus",className:"money minus",children:["-",r,"\uc6d0"]})]})]})]})};var L=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(a.useRef)();return Object(a.useEffect)((function(){b.collection(l).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));r(t)}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(I,{transactions:n}),Object(c.jsx)(F,{transactions:n}),Object(c.jsx)("article",{id:"newTransactionContainer",className:"",children:Object(c.jsx)(T,{})}),Object(c.jsx)("div",{className:"newBtnContainer",children:Object(c.jsx)("button",{className:"button",onClick:function(){var e=document.getElementById("newTransactionContainer");e.classList.toggle("show"),s.current.innerText=e.classList.contains("show")?"Cancel":"Add new transaction"},ref:s,children:"Add new transaction"})})]})},A=n(33),D=n(34);function M(){var e=Object(A.a)(['\n    @import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap");\n    text-align: center;\n    font-size: 20px;\n    font-weight: 700;\n    font-family: Montserrat, sans-serif;\n  ']);return M=function(){return e},e}var R=function(){D.a.span(M());var e=Object(O.f)(),t="";return"/"===e.pathname?t="HOME":"/settings"===e.pathname&&(t="Settings"),Object(c.jsxs)("nav",{children:[Object(c.jsx)(p.b,{to:"/settings",children:"\u276e"}),Object(c.jsx)("span",{children:t}),Object(c.jsx)(p.b,{to:"/",children:"\u276f"})]})};var B=function(e){var t=e.categories;return Object(c.jsxs)(p.a,{children:[Object(c.jsx)(R,{}),Object(c.jsxs)(O.c,{children:[Object(c.jsx)(O.a,{exact:!0,path:"/settings",children:Object(c.jsx)(k,{categories:t})}),Object(c.jsx)(O.a,{exact:!0,path:"/",children:Object(c.jsx)(L,{categories:t})})]})]})};var P=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){b.collection(d).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));r(t)}))}),[]),Object(c.jsxs)("main",{className:"App",children:[Object(c.jsx)(B,{categories:n}),Object(c.jsxs)("footer",{children:["\xa9 ",(new Date).getFullYear()," Expense Tracker - SOHYEON OH \uc624\uc18c\ud604"]})]})};n(48);i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(P,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.c6b99b93.chunk.js.map