(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(2),r=n.n(a),s=n(35),i=n.n(s),o=n(17),j=n(10),l=n(31),u=(n(55),n(56),l.a.initializeApp({apiKey:"AIzaSyDR8tvZ_nXU_Yvf3m9fDSstpav1n0HCJGc",authDomain:"expense-tracker-91c95.firebaseapp.com",projectId:"expense-tracker-91c95",storageBucket:"expense-tracker-91c95.appspot.com",messagingSenderId:"982156523497",appId:"1:982156523497:web:1f3a7dca886f9d5a4b3d78"}),"transactions"),d="categories",b=l.a.firestore(),x=n(25),O=n(5);var p=function(e){e.values;var t=e.changeHandler,n=Object(a.useRef)(),r=function(){var e=n.current;e.classList.contains("toRight")?(e.classList.remove("toRight"),e.classList.add("toLeft")):(e.classList.remove("toLeft"),e.classList.add("toRight"))};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"radios",children:[Object(c.jsx)("div",{className:"checked",ref:n}),Object(c.jsx)("label",{htmlFor:"typePlus",className:"labels",onClick:r,children:"+"}),Object(c.jsx)("input",{type:"radio",name:"type",id:"typePlus",className:"transactionType",value:"\uc218\uc785",onChange:t}),Object(c.jsx)("label",{htmlFor:"typeMinus",className:"labels",onClick:r,children:"-"}),Object(c.jsx)("input",{type:"radio",name:"type",id:"typeMinus",className:"transactionType",value:"\uc9c0\ucd9c",onChange:t})]})})},h=n(27),m=n(8),f=n.n(m),v=n(16);var g=function(e){var t=e.initialValues,n=e.onSubmit,c=e.validate,r=Object(a.useState)(t),s=Object(j.a)(r,2),i=s[0],l=s[1],x=Object(a.useState)(""),O=Object(j.a)(x,2),p=O[0],m=O[1],g=Object(a.useState)(!1),y=Object(j.a)(g,2),N=y[0],C=y[1],w=Object(a.useState)([]),S=Object(j.a)(w,2),k=S[0],T=S[1],E=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection(d).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));T(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===k.length&&E();var F=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection(u).doc("".concat(t.id)).set(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection(d).add(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){N&&n(i),C(!1)}),[N,i,n]),{values:i,errors:p,isSubmit:N,changeHandler:function(e){var t=e.target,n=t.name,c=t.value;l(Object(o.a)(Object(o.a)({},i),{},Object(h.a)({},n,c))),C(!1)},submitHandler:function(e){if(e.preventDefault(),C(!0),m(c(i)),i.formType===u){var n={type:i.type,date:i.date,id:Date.now(),text:i.text,amount:+i.amount,category:i.category};F(n)}else if(i.formType===d){console.log(i);var a={type:i.type,category:i.category};H(a)}l(t)},categories:k,getCategories:E}};function y(e){e.type;var t=e.date,n=(e.text,e.amount),c={};return c.date=t?null:"\ub0a0\uc9dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",/^[0-9]/.test(n)?c.amount=null:c.amount="\uae08\uc561\uc5d0\ub294 \uc22b\uc790\ub9cc \uc785\ub825\ud574\uc8fc\uc138\uc694.",c}var N=function(){var e=g({initialValues:{formType:d,type:"\uc9c0\ucd9c",category:""},onSubmit:function(e){},validate:y}),t=e.values,n=e.changeHandler,a=e.submitHandler;return Object(c.jsxs)("form",{onSubmit:a,className:"categoryForm",children:[Object(c.jsx)("h3",{children:"New Category"}),Object(c.jsx)(p,{values:t,changeHandler:n}),Object(c.jsxs)("p",{children:[Object(c.jsx)("label",{htmlFor:"category",children:"Contents"}),Object(c.jsx)("input",{type:"text",className:"input",name:"category",required:!0,value:t.category,onChange:n,placeholder:"Enter contents..."}),Object(c.jsx)("input",{type:"submit",className:"button",name:"submit",value:"+"})]})]})};var C=function(e){var t=e.formType,n=e.itemId,a=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\ub0b4\uc5ed\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=10;break}if(t!==u){e.next=7;break}return e.next=5,b.doc("".concat(u,"/").concat(n)).delete();case 5:e.next=10;break;case 7:if(t!==d){e.next=10;break}return e.next=10,b.doc("".concat(d,"/").concat(n)).delete();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("button",{className:"deleteBtn",onClick:a,children:"X"})},w=n(21),S=n(22);var k=function(e){var t=e.header,n=e.contents,a=e.onToggleHandler;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{id:"coverBackground"}),Object(c.jsxs)("div",{className:"modal",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:t}),Object(c.jsx)("button",{onClick:a,children:"X"})]}),n]})]})};var T=function(e){var t=e.category,n=Object(a.useState)(t.category),r=Object(j.a)(n,2),s=r[0],i=r[1],o=Object(a.useState)(!1),l=Object(j.a)(o,2),u=l[0],x=l[1],O=function(){x((function(e){return!e}))},p=function(){var e=Object(v.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),x(!1),e.next=4,b.doc("".concat(d,"/").concat(t.id)).update({category:s});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(C,{formType:d,itemId:t.id})}),Object(c.jsx)("td",{children:t.type}),Object(c.jsx)("td",{children:t.category}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{onClick:O,className:"deleteBtn",children:Object(c.jsx)(w.a,{icon:S.b})})}),u&&Object(c.jsx)(k,{header:"\uce74\ud14c\uace0\ub9ac \uc218\uc815",onToggleHandler:O,contents:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("p",{children:["".concat(t.type," - ")," ",Object(c.jsx)("span",{children:t.category})]}),Object(c.jsxs)("form",{onSubmit:p,children:[Object(c.jsx)("input",{type:"text",value:s,onChange:function(e){i(e.target.value)},className:"input"}),Object(c.jsx)("button",{className:"submitButtonIcon",children:Object(c.jsx)(w.a,{icon:S.a})})]})]})})]})};var E=function(e){var t=e.categories;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N,{}),Object(c.jsxs)("div",{className:"listTable",children:[Object(c.jsx)("h3",{children:"Category List"}),Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"\uc0ad\uc81c"}),Object(c.jsx)("th",{children:"TYPE"}),Object(c.jsx)("th",{children:"CONTENTS"}),Object(c.jsx)("th",{children:"\uc218\uc815"})]})}),Object(c.jsx)("tbody",{children:t&&t.map((function(e){return Object(c.jsx)(T,{category:e},e.id)}))})]})]})]})};var F=function(e){var t=e.categories;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("article",{id:"settingSection",children:Object(c.jsx)(E,{categories:t})})})};var H=function(){var e=g({initialValues:{formType:u,type:"\uc9c0\ucd9c",date:"",text:"",amount:0,category:""},onSubmit:function(e){},validate:y}),t=e.values,n=e.errors,a=e.isSubmit,r=e.changeHandler,s=e.submitHandler,i=e.categories;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{onSubmit:s,children:[Object(c.jsx)("h3",{children:"Add New Transaction"}),Object(c.jsxs)("fieldset",{id:"type",children:[Object(c.jsx)(p,{values:t,changeHandler:r}),Object(c.jsxs)("select",{name:"category",onChange:r,children:[Object(c.jsx)("option",{children:"\uce74\ud14c\uace0\ub9ac\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}),i&&i.filter((function(e){return e.type===t.type})).map((function(e){return Object(c.jsx)("option",{value:e.category,children:e.category},e.id)}))]})]}),Object(c.jsxs)("fieldset",{id:"info",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("label",{htmlFor:"date",children:"Date"}),n.date&&Object(c.jsx)("span",{children:n.date}),Object(c.jsx)("input",{type:"date",name:"date",value:t.date,onChange:r,required:!0,className:"input"})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("label",{htmlFor:"text",children:"Text"}),Object(c.jsx)("input",{type:"text",value:t.text,onChange:r,name:"text",id:"text",placeholder:"Enter text",required:!0,className:"input"})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("label",{htmlFor:"amount",children:"Amount"}),n.amount&&Object(c.jsx)("span",{children:n.amount}),Object(c.jsx)("input",{type:"number",id:"amount",name:"amount",value:t.amount,onChange:r,required:!0,className:"input"})]})]}),Object(c.jsx)("input",{type:"submit",value:"Add transaction",disabled:a})]})})};function I(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var B=function(e){var t=e.transactionObj,n=e.isNewDate,r=Object(a.useState)(t.text),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),x=d[0],O=d[1],p=t.type,h=function(){O((function(e){return!e}))},m=function(){var e=Object(v.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),O(!1),e.next=4,b.doc("".concat(u,"/").concat(t.id)).update({text:i});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g="";return"\uc218\uc785"===p?g="moneyPlus":"\uc9c0\ucd9c"===p&&(g="moneyMinus"),Object(c.jsxs)(c.Fragment,{children:[n?Object(c.jsx)("p",{className:"date",children:t.date}):"",Object(c.jsxs)("div",{className:"".concat(g," transactionContainer"),onClick:function(){},children:[Object(c.jsxs)("div",{className:"buttonContainer",children:[Object(c.jsx)(C,{formType:u,itemId:t.id}),Object(c.jsx)("button",{onClick:h,className:"deleteBtn",children:Object(c.jsx)(w.a,{icon:S.b})})]}),x&&Object(c.jsx)(k,{header:"\uac70\ub798 \ub0b4\uc5ed \uc218\uc815",onToggleHandler:h,contents:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("p",{children:["".concat(t.date," / ").concat(t.type," / "),Object(c.jsx)("span",{children:t.text})," / ".concat(t.amount)]}),Object(c.jsxs)("form",{onSubmit:m,children:[Object(c.jsx)("input",{type:"text",value:i,onChange:function(e){o(e.target.value)},className:"input"}),Object(c.jsx)("button",{className:"submitButtonIcon",children:Object(c.jsx)(w.a,{icon:S.a})})]})]})}),Object(c.jsxs)("div",{className:"textContainer",children:[Object(c.jsxs)("span",{className:"text",children:[t.text,Object(c.jsx)("span",{className:"category",children:t.category})]}),Object(c.jsxs)("span",{className:"amount",children:[I(t.amount),"\uc6d0"]})]})]})]})};var L=function(e){var t=e.transactions.concat();return t.sort((function(e,t){return e.date>t.date?-1:1})),Object(c.jsx)("article",{id:"historyComponent",children:Object(c.jsxs)("section",{id:"historyList",className:"list",children:[Object(c.jsx)("h3",{children:"History"}),t&&t.map((function(e,n){var a=!0;return 0===n?a=!0:n>0&&n<t.length-1&&(a=e.date!==t[n-1].date),Object(c.jsx)(B,{transactionObj:e,isNewDate:a},e.id)}))]})})};var D=function(e){var t=e.transactions.concat(),n=I(t.map((function(e){var t=0;return"\uc218\uc785"===e.type?t=+e.amount:"\uc9c0\ucd9c"===e.type&&(t=-e.amount),t})).reduce((function(e,t){return e+t}),0)),a=I(t.filter((function(e){return"\uc218\uc785"===e.type})).map((function(e){return parseInt(e.amount)})).reduce((function(e,t){return e+t}),0)),r=I(t.filter((function(e){return"\uc9c0\ucd9c"===e.type})).map((function(e){return parseInt(e.amount)})).reduce((function(e,t){return e+t}),0));return Object(c.jsxs)("article",{className:"balanceComponent",children:[Object(c.jsxs)("section",{className:"balance",children:[Object(c.jsx)("p",{className:"name",children:"YOUR BALANCE"}),Object(c.jsxs)("p",{id:"money",children:[n,"\uc6d0"]})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("section",{className:"each income",children:[Object(c.jsx)("p",{className:"name",children:"INCOME"}),Object(c.jsxs)("p",{id:"moneyPlus",className:"money plus",children:["+",a,"\uc6d0"]})]}),Object(c.jsxs)("section",{className:"each expense",children:[Object(c.jsx)("p",{className:"name",children:"EXPENSE"}),Object(c.jsxs)("p",{id:"moneyMinus",className:"money minus",children:["-",r,"\uc6d0"]})]})]})]})};var A=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(a.useRef)();return Object(a.useEffect)((function(){b.collection(u).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));r(t)}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(D,{transactions:n}),Object(c.jsx)(L,{transactions:n}),Object(c.jsx)("section",{className:"addNewButton",children:Object(c.jsx)("button",{className:"button",onClick:function(){document.getElementById("historyComponent").classList.toggle("short");var e=document.getElementById("newTransactionContainer");e.classList.toggle("show"),s.current.innerText=e.classList.contains("show")?"Cancel":"Add new transaction"},ref:s,children:"Add new transaction"})}),Object(c.jsx)("article",{id:"newTransactionContainer",className:"",children:Object(c.jsx)(H,{})})]})},M=n(36),R=n(37);function P(){var e=Object(M.a)(['\n    @import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap");\n    text-align: center;\n    font-size: 20px;\n    font-weight: 700;\n    font-family: Montserrat, sans-serif;\n  ']);return P=function(){return e},e}var Y=function(){R.a.span(P());var e=Object(O.f)(),t="";return"/"===e.pathname?t="HOME":"/settings"===e.pathname&&(t="Settings"),Object(c.jsxs)("nav",{children:[Object(c.jsx)(x.b,{to:"/settings",children:"\u276e"}),Object(c.jsx)("span",{children:t}),Object(c.jsx)(x.b,{to:"/",children:"\u276f"})]})};var q=function(e){var t=e.categories;return Object(c.jsxs)(x.a,{children:[Object(c.jsx)(Y,{}),Object(c.jsxs)(O.c,{children:[Object(c.jsx)(O.a,{exact:!0,path:"/settings",children:Object(c.jsx)(F,{categories:t})}),Object(c.jsx)(O.a,{exact:!0,path:"/",children:Object(c.jsx)(A,{categories:t})})]})]})};var X=function(){return Object(c.jsxs)("footer",{children:["\xa9 ",(new Date).getFullYear()," Expense Tracker - SOHYEON OH \uc624\uc18c\ud604"]})};var z=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){b.collection(d).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));r(t)}))}),[]),Object(c.jsxs)("main",{className:"App",children:[Object(c.jsx)(q,{categories:n}),Object(c.jsx)(X,{})]})};n(53);i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(z,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.762057b1.chunk.js.map